### 布局组件：如何实现自研组件库的布局方案？

#### 布局组件

开发项目最好的方式就是一开始“约定好布局规范”，根据规范，用组件方式“搭建好布局骨架”，开发时就在“布局骨架”里填充需要的功能代码。
<br/>
布局组件的几点重要性：
<br/>

- 统一前端页面布局的开发规范；
- 降低设计师、业务方和前端开发者在对接页面布局变更的沟通成本；
- 降低前端页面修改布局的开发成本；
- 降低前端页面合作开发的理解成本。
  <br/>
  <b>总结一句话就是，布局组件可以用“规范”来“降低成本”。</b>

#### 实现布局组件需要准备什么？

在实现布局组件前，我们首先要做的当然是布局的规范设计。
<br/>
这里，基于 Ant Design 和 Element Plus 这两个主流的开源组件库，我总结出布局规范设计的三个准备点：
<br/>

- 栅格化系统的设计；
- 不同布局组件的语义化定义；
- 根据栅格组件和语义布局组件，组合实现各种页面布局。
  <br/>

1. 栅格化系统设计
   ![](https://static001.geekbang.org/resource/image/ac/f8/ac609a18df1fb525a2f12bb8d293a8f8.png?wh=1920x936)
   前端领域，“栅格化系统设计”，就是将页面在横向视角分成一行行（Row），在每一行里划分成指定数量的纵向等分格子列（Column），每一个格子就是后续定义布局大小的一个“单位”。
   总之，将页面等分成格子，并且将格子作为布局单位，就是“栅格化系统”。同时，栅格化组件也是一种布局组件(没有语义的基础布局组件)。
2. 不同布局组件语义化定义
   这里的不同布局组件，就是布局中的一些有语义场景的组件，例如头部组件（Header）、内容组件（Content）和底部组件（Footer）等有一定布局含义的组件，就是语义化的布局组件。
3. 根据栅格化系统来再结合不同语义的布局组件，就可以实现各种业务中所需要的页面布局格式。
   例如，开发一个卡片布局组件，要划分卡片的“面积划分”，就可以使用栅格化组件进行二次封装开发。

#### 如何实现栅格组件？

上面提到过，栅格化系统设计，就是将页面等分成一个个格子，每个格子作为布局单位。那么栅格组件就是用来实现和定义页面中某个区块布局尺寸等于“多少个格子”。
目前页面的栅格化系统设计，将页面分成 12 等分或者 24 等分。分得越多，布局尺寸的处理就可以越精细。所以我选择 24 等分的栅格设计方式，也就是将页面栅格化成“24 个格子”。<br/>
![](https://static001.geekbang.org/resource/image/13/8e/135ea7c150034fd12fd6fe4e195e3b8e.png?wh=1920x290)

最终实现效果图：<br/>
![](https://static001.geekbang.org/resource/image/02/a6/026213bd7b5b82cfff064af91476d8a6.png?wh=1920x1031)
<b>为什么栅格组件按比例等分？而不是固定尺寸，例如固定 20px 等分呢？</b><br/>
这是因为组件库需要有通用性，如果限死栅格单元的固定“格子”尺寸，就不能适用大部分前端开发场景。这里按比例等分，可以基于“父容器”的固定尺寸，来控制子容器的栅格尺寸。

#### 如何实现 PC 端布局组件？

首先需要哪些 PC 布局组件呢？常见的有 5 种：<br/>

- 页面容器组件——Layout；
- 页面头部组件——Header；
- 页面内容组件——Content；
- 页面侧边组件——Sider；
- 页面底部组件——Footer。

总结一下，在自研组件库的时候，我们需要围绕着内部填充的功能组件来做若干开发规范约定：<br/>

- 组件尽量不要写死尺寸，需要用弹性的尺寸样式，建议直接使用栅格组件；
- 组件里的文字内容要考虑换行处理，特别是纯字母和数字的显示组件；
- 组件里图片显示尽量在控制好边缘尺寸限制；
- 组件里绝对定位注意固定位置的偏移是否受外界布局组件容器的影响。

> 此文章为 3 月 Day12 学习笔记，内容来源于极客时间《Vue 3 企业级项目实战课》，学习使我快乐，每天进步一点点 💪💪
