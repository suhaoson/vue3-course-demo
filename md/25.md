### åå°æ­å»ºåŠŸèƒ½ï¼šå¦‚ä½•è®¾è®¡å’Œå®ç° Vue.js è¿è¥åå°çš„æ­å»ºåŠŸèƒ½ï¼Ÿ

åœ¨â€œè¿è¥æ­å»ºå¹³å°â€ä¸€èŠ‚çš„åŠŸèƒ½åˆ†æä¸­ï¼Œæˆ‘ä»¬æŠŠå¹³å°åŠŸèƒ½åˆ†æˆä¸‰å¤§åŠŸèƒ½ç»´åº¦ï¼Œâ€œç”¨æˆ·ç»´åº¦â€â€œç‰©æ–™ç»´åº¦â€å’Œâ€œé¡µé¢ç»´åº¦â€ã€‚<br/>
é¡µé¢åŠŸèƒ½ç»´åº¦å¯ä»¥åˆ†æˆäº”å¤§åŠŸèƒ½æ¨¡å—ï¼Œâ€œé¡µé¢æ­å»ºâ€â€œé¡µé¢ç¼–è¯‘å’Œè¿è¡Œâ€â€œé¡µé¢å‘å¸ƒæµç¨‹â€â€œé¡µé¢ç‰ˆæœ¬ç®¡ç†â€å’Œâ€œé¡µé¢æ¸²æŸ“æ–¹å¼â€ã€‚<br/>

#### å¦‚ä½•è®¾è®¡é¡µé¢æ­å»ºçš„æ•°æ®æ ¼å¼

ä¹‹å‰æˆ‘ä»¬è¯´è¿‡ï¼Œé¡µé¢æ˜¯ç”±ç‰©æ–™ç»„æˆçš„ï¼Œç‰©æ–™æ˜¯ç”± Vue.js ç»„ä»¶å’Œæ•°æ®æºç»„æˆçš„ï¼Œè€Œæ•°æ®æºæ„æˆé¡µé¢çš„æ•°æ®ç»“æ„ã€‚<br/>
åº•å±‚æ„æˆå…ƒç´ å°±æ˜¯â€œæ•°æ®â€å’Œâ€œé™æ€èµ„æºâ€ã€‚
<br/>
ä¸è¿‡è®¾è®¡æ­å»ºé¡µé¢çš„æ•°æ®æ ¼å¼ä¹‹å‰ï¼Œæˆ‘ä»¬è¦å…ˆå¯¹é¡µé¢å¸ƒå±€ç»“æ„åšè®¾è®¡ã€‚<br/>

1. é¦–å…ˆï¼Œæˆ‘ä»¬è¦åšâ€œå¸ƒå±€è§„èŒƒâ€çš„é€‰æ‹©ã€‚é¡µé¢å¸ƒå±€è§„èŒƒæœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚<b>ç½‘æ ¼å¸ƒå±€</b>ã€ç»å¯¹å®šä½å¸ƒå±€ã€æµå¼å¸ƒå±€ç­‰ç­‰ã€‚<br/>
2. æ¥ä¸‹æ¥å°±æ˜¯è¦åšå¸ƒå±€çš„æ•°æ®è®¾è®¡äº†ã€‚<br/>
   ç¤ºæ„å›¾ï¼š
   ![](https://static001.geekbang.org/resource/image/3e/3c/3e683322562d641973a92e31e36d993c.jpg?wh=1920x1080)
   <br/>

æˆ‘ä»¬å¯ä»¥åŸºäº TypeScript æ¥è®¾è®¡é¡µé¢å¸ƒå±€æ•°æ®æ ¼å¼ã€‚

```
 // åˆ—å¸ƒå±€
interface LayoutColumn {
  name?: string;
}

// è¡Œå¸ƒå±€
interface LayoutRow {
  columns: LayoutColumn[];
}

// å¸ƒå±€
interface Layout {
  rows: LayoutRow[];
}
```

3. è®¾è®¡äº†å¸ƒå±€çš„åŸºæœ¬æ•°æ®æ ¼å¼åï¼Œè¿˜è¦è€ƒè™‘å¸ƒå±€å°ºå¯¸é—®é¢˜ã€‚<br/>
   åœ¨ç½‘æ ¼å¸ƒå±€ä¸­ï¼Œé¡µé¢çš„æ¯ä¸€è¡Œé«˜åº¦ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®åˆ—å¸ƒå±€ä¸­ç‰©æ–™çš„é«˜åº¦å¼¹æ€§å˜åŒ–ï¼Œä½†æ˜¯é¡µé¢çš„å®½åº¦å°±è¦åšé™åˆ¶ã€‚æ¯ä¸€è¡Œçš„å®½åº¦ï¼Œå—åˆ°é¡¶çº§å¸ƒå±€å®½åº¦çš„é™åˆ¶ï¼Œå¸¦åŠ¨ç€è¡Œé‡Œçš„æ¯ä¸€åˆ—å°±è¦åˆ†å‰²é™åˆ¶çš„å®½åº¦ã€‚<br/>
   å¸ƒå±€æ•°æ®çš„ TypeScript æ•°æ®ç±»å‹å¯ä»¥æ‰©å±•æ·»åŠ å®½åº¦å±æ€§ã€‚

```
// åˆ—å¸ƒå±€
interface LayoutColumn {
  name?: string;
  width: string | number;
}

// è¡Œå¸ƒå±€
interface LayoutRow {
  columns: LayoutColumn[];
}

// å¸ƒå±€
interface Layout {
  width: number | string;
  rows: LayoutRow[];
}
```

4. ç°åœ¨æˆ‘ä»¬æœ‰äº†å®Œæ•´çš„å¸ƒå±€æ•°æ®æ ¼å¼ï¼Œæ¥ä¸‹æ¥å°±è¦æŠŠç‰©æ–™å¡«å……åˆ°ç½‘æ ¼å¸ƒå±€ä¸­çš„æ¯ä¸€åˆ—ä¸­ã€‚
   <br/>

åœ¨â€œåˆ—æ•°æ®â€ä¸­æ·»åŠ â€œç‰©æ–™æ•°æ®â€ï¼Œä¼šå¯¼è‡´æ•´ä¸ªâ€œé¡µé¢å¸ƒå±€æ•°æ®â€çš„æ•°æ®å±‚çº§å¤ªå¤š;é¿å…å®é™…çš„ JSONâ€œæ•°æ®å±‚çº§â€å¤ªæ·±ï¼›æˆ‘ä»¬åœ¨æ¯ä¸€ä¸ªåˆ—æ•°æ®ä¸­ç•™ä¸‹ä¸€ä¸ª uuidï¼Œä»£è¡¨æ¯ä¸€ä¸ªç‰©æ–™æ¨¡å—ï¼Œç„¶ååœ¨å¸ƒå±€æ•°æ®æ ¼å¼çš„åŒä¸ªå±‚çº§ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªæ¨¡å—çš„ Map å¯¹è±¡æ•°æ®ï¼Œæ¥åŒ…å«æ‰€æœ‰ç‰©æ–™æ¨¡å—æ•°æ®æ ¼å¼ã€‚æ¨¡å— Map å¯¹è±¡æ•°æ®çš„é”®å€¼ Key å°±æ˜¯æ¯åˆ—çš„ uuidï¼ŒæŒ‡å‘æ‰€å¼•ç”¨çš„åˆ—ã€‚<br/>

æ¨¡å—æ•°æ®å¯ä»¥è¿™ä¹ˆè®¾è®¡ï¼Œæ¯ä¸ªç‹¬ç«‹çš„ç‰©æ–™æ¨¡å—ä¸­ï¼ŒåŒ…å«äº†ç‰©æ–™ç»„ä»¶çš„åç§°ï¼Œç‰ˆæœ¬å·å’Œç‰©æ–™æ•°æ®æºã€‚çœ‹å…·ä½“çš„ TypeScript ä»£ç ã€‚

```
// ç‰©æ–™æ¨¡å—
interface LayoutModule {
  materialName: string;
  materialVersion: string;
  materialData: Record<string, any>; // ç‰©æ–™æ•°æ®æº
}

// ç‰©æ–™æ¨¡å—Map
interface LayoutModuleMap {
  [uuid: string]: LayoutModule; // uuidæŒ‡å‘æ¯ä¸€åˆ—é‡Œçš„uuid
}
```

å®Œæ•´çš„ TypeScript æ•°æ®ç±»å‹ä»£ç ï¼š

```
// åˆ—å¸ƒå±€
interface LayoutColumn {
  uuid: string; // åˆ—å”¯ä¸€çš„uuidï¼ŒæŒ‡å‘ç‰©æ–™æ¨¡å—çš„uuid
  name?: string;
  width: string | number;
}

// è¡Œå¸ƒå±€
interface LayoutRow {
  uuid: string; // è¡Œå”¯ä¸€çš„uuid
  columns: LayoutColumn[];
}

// å¸ƒå±€
interface Layout {
  width: number | string;
  rows: LayoutRow[];
}

// ç‰©æ–™æ¨¡å—
interface LayoutModule {
  materialName: string;
  materialVersion: string;
  materialData: Record<string, any>; // ç‰©æ–™æ•°æ®æº
}

// ç‰©æ–™æ¨¡å—Map
interface LayoutModuleMap {
  [uuid: string]: LayoutModule;
}

// å®Œæ•´çš„é¡µé¢å¸ƒå±€æ•°æ®
interface PageLayoutData {
  layout: Layout;
  moduleMap: LayoutModuleMap;
}
```

åŸºäºè¿™æ®µå®Œæ•´çš„é¡µé¢å¸ƒå±€æ•°æ®çš„ TypeScript ç±»å‹ï¼Œæˆ‘æ¥å®ç°ä¸€ä¸ªé¡µé¢æ­å»ºçš„ JSON å¯¹è±¡æ•°æ®ä¾‹å­ã€‚

```

{
  "layout": {
    "rows": [
      {
        "uuid": "7a3dbfa7-29ca-4765-bd58-7a91abda7721",
        "columns": [
          {
            "name": "å…¶å®ƒå¹¿å‘Šä½1",
            "uuid": "2be63a53-8a16-43ba-8640-a1ab24bdbae3",
            "width": 600
          },
          {
            "name": "å…¶å®ƒå¹¿å‘Šä½2",
            "uuid": "0184e8ed-7df4-4742-9bb4-b8dfa1a0aca7",
            "width": 400
          }
        ]
      },
      {
        "uuid": "0fdbe663-51d8-4038-9d0d-bdeed0c6eb71",
        "columns": [
          {
            "name": "ä¿ƒé”€å•†å“æ¨¡å—",
            "uuid": "26148a93-e66a-4448-b6a4-4bddbce9ae4f",
            "width": 1000
          }
        ]
      }
    ],
    "width": 1000
  },
  "moduleMap": {
    "26148a93-e66a-4448-b6a4-4bddbce9ae4f": {
      "materialData": {},
      "materialName": "@my/material-product-list",
      "materialVersion": "0.9.0"
    },
    "2be63a53-8a16-43ba-8640-a1ab24bdbae3": {
      "materialData": {},
      "materialName": "@my/material-banner-slides",
      "materialVersion": "0.9.0"
    },
    "0184e8ed-7df4-4742-9bb4-b8dfa1a0aca7": {
      "materialData": {},
      "materialName": "@my/material-banner-slides",
      "materialVersion": "0.9.0"
    }
  }
}
```

<b>é¡µé¢æ­å»ºçš„å®ç°åŸç†ï¼Œå°±æ˜¯è¦åŸºäºâ€œæ­å»ºé¡µé¢æ•°æ®â€ï¼Œå†ç»“åˆâ€œç‰©æ–™ç»„ä»¶èµ„æºâ€ï¼Œä¹Ÿå°±æ˜¯ç‰©æ–™çš„ JavaScript å’Œ CSS é™æ€èµ„æºæ–‡ä»¶ï¼Œæ¥å®Œæˆé¡µé¢çš„æ­å»ºåŠŸèƒ½ã€‚</b>
<br/>

#### å¦‚ä½•è®¾è®¡é¡µé¢æ­å»ºçš„åŠŸèƒ½é“¾è·¯

ä»é¡µé¢å¸ƒå±€æ•°æ®çš„åˆ†ææ­¥éª¤å¯ä»¥çœ‹å‡ºï¼Œå®ç°ä¸€ä¸ªæ­å»ºçš„é¡µé¢ï¼Œéœ€è¦å…ˆåˆ¶å®šé¡µé¢çš„å¸ƒå±€ï¼Œç„¶åå†å‘å¸ƒå±€ä¸­å¡«å……ç‰©æ–™ã€‚æ‰€ä»¥é¡µé¢æ­å»ºåŠŸèƒ½é“¾è·¯ï¼Œå°±æ˜¯ä»å¸ƒå±€åˆ°ç‰©æ–™çš„æ“ä½œè¿‡ç¨‹ã€‚
<br/>
![](https://static001.geekbang.org/resource/image/99/19/998971812faf706b418726a06185c619.jpg?wh=1920x1080)

<br/>
æˆ‘ä»¬èƒ½å¾ˆæ¸…æ™°åœ°æŠŠé¡µé¢æ­å»ºåŠŸèƒ½é“¾è·¯åˆ†æˆäº”ä¸ªæ­¥éª¤ã€‚<br/>

- ç¬¬ä¸€æ­¥ï¼šæ“ä½œé¡µé¢çš„è¡Œåˆ—å¸ƒå±€<br/>
  è¿™ä¸€æ­¥ï¼Œä¸»è¦åŠŸèƒ½æ˜¯æ”¯æŒæ·»åŠ â€œè¡Œå¸ƒå±€â€ï¼Œåœ¨æ–°å¢â€œè¡Œå¸ƒå±€â€æ—¶å€™ï¼Œæ”¯æŒå®šä¹‰æ‰€åœ¨â€œè¡Œå¸ƒå±€â€ä¸­çš„â€œåˆ—å¸ƒå±€â€ã€‚åŒ…æ‹¬äº†â€œåˆ—â€çš„ä¸ªæ•°å’Œæ¯ä¸€åˆ—åˆ†å‰²çš„å®½åº¦
  ![](https://static001.geekbang.org/resource/image/9b/0d/9b49187e91d80851e740416c87c9c60d.png?wh=1920x1451)
  ![](https://static001.geekbang.org/resource/image/d8/ee/d8f4bdd92f2d16ee841dd8cc37983dee.png?wh=1920x1451)
  <b>ï¼Œâ€œåˆ—â€æ˜¯æ•´ä¸ªé¡µé¢å¸ƒå±€ä¸­çš„æœ€å°å•ä½ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæœ€ç»ˆç‰©æ–™æ˜¯å¡«å……åˆ°â€œåˆ—å¸ƒå±€â€ä¸­çš„ã€‚</b>
- ç¬¬äºŒæ­¥ï¼šå¡«å……ç‰©æ–™æ¨¡å—åˆ°åˆ—å¸ƒå±€ä¸­<br/>
  æˆ‘ä»¬å…ˆè¿›è¡Œç‰©æ–™çš„æŸ¥è¯¢ï¼ŒæŸ¥è¯¢éªŒè¯æˆåŠŸåå°±å¡«å……åˆ°â€œåˆ—å¸ƒå±€â€ä¸­ã€‚å…·ä½“æ“ä½œç•Œé¢å°±åƒè¿™æ ·ã€‚
  ![](https://static001.geekbang.org/resource/image/20/d9/20c635f45f9581781ba67884257a2dd9.png?wh=1920x1175)
  ![](https://static001.geekbang.org/resource/image/13/e0/1368fd24eae992d11444e13c194efae0.png?wh=1920x1247)
- ç¬¬ä¸‰æ­¥ï¼šç¼–è¾‘ç‰©æ–™çš„æ•°æ®æº<br/>
  åœ¨è¿™ä¸ªæ­¥éª¤ä¸­ï¼Œæ”¯æŒå¯¹æ¯ä¸€åˆ—ä¸­çš„ç‰©æ–™æ¨¡å—ï¼Œè¿›è¡Œæ•°æ®æºçš„ç¼–è¾‘ã€‚
  ![](https://static001.geekbang.org/resource/image/7d/ef/7db2424b3b6dd66d93e81c09322ee1ef.png?wh=1920x1356)
  ![](https://static001.geekbang.org/resource/image/06/5b/065ea15f70d376aff066306e2e0a6a5b.png?wh=1920x1356)
- ç¬¬å››æ­¥ï¼šå‘å¸ƒé¡µé¢å¸ƒå±€æ•°æ®<br/>
  è¿™ä¸€æ­¥ä¹Ÿå°±æ˜¯æäº¤å®Œæ•´çš„é¡µé¢å¸ƒå±€æ•°æ®ï¼ˆå¸ƒå±€å’Œç‰©æ–™æ¨¡å—æ•°æ®ï¼‰ï¼Œå­˜å‚¨åˆ°æ•°æ®ä¸­ï¼Œæ”¯æŒä¸‹æ¬¡ç¼–è¾‘ã€‚
  ![](https://static001.geekbang.org/resource/image/42/11/425c3857feaf1db550c1d5097eced411.png?wh=1920x1067)
- ç¬¬äº”æ­¥ï¼šæ”¯æŒé‡æ–°ç¼–è¾‘é¡µé¢å¸ƒå±€æ•°æ®<br/>
  è¿™ä¸€æ­¥ä¸­ï¼Œæ”¯æŒå¯¹å·²å‘å¸ƒçš„é¡µé¢æ•°æ®è¿›è¡Œé‡æ–°ä¿®æ”¹ï¼ŒåŸºæœ¬å¤ç”¨äº†ä¸Šé¢çš„æ‰€æœ‰åŠŸèƒ½ç‚¹ï¼ŒåŒ…æ‹¬ç¼–è¾‘è¡Œåˆ—å¸ƒå±€ã€å¡«å……ç‰©æ–™ç»„ä»¶ã€ç¼–è¾‘ç‰©æ–™æ•°æ®æºå’Œå‘å¸ƒä¿®æ”¹æ•°æ®ã€‚
  ![](https://static001.geekbang.org/resource/image/ba/ce/bacd4dfe36d60559f25c7ef8599d86ce.png?wh=1920x2039)
  <br/>

#### å¦‚ä½•åšé¡µé¢æ­å»ºçš„æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡

æŒ‰ç…§æˆ‘ä»¬ä¹‹å‰çš„å¥—è·¯ï¼ŒåŠŸèƒ½çš„æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡ï¼Œå…¶å®å°±æ˜¯æ ¹æ®åŠŸèƒ½é€»è¾‘è®¾è®¡çš„æ­¥éª¤ï¼Œå¯¹åº”æ‰¾åˆ°åˆé€‚çš„æˆ–è€…ç†Ÿæ‚‰çš„æŠ€æœ¯å®ç°æ–¹å¼ã€‚
<br/>

- ç¬¬ä¸€æ­¥ï¼Œæ“ä½œé¡µé¢çš„è¡Œåˆ—å¸ƒå±€ã€‚<br/>
  - è¿™ä¸€æ­¥éª¤ä¸­ï¼Œä¸»è¦æ˜¯å®ç°å¸ƒå±€çš„æ“æ§ã€‚é¦–å…ˆï¼Œæ˜¯â€œè¡Œå¸ƒå±€â€çš„æ“æ§ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäº Vue.js çš„å“åº”å¼æ•°æ®æ¥å®ç°â€œè¡Œå¸ƒå±€â€çš„â€œå¢åˆ æ”¹â€æ“ä½œã€‚ç„¶åæ˜¯â€œåˆ—å¸ƒå±€â€çš„å®šä¹‰ï¼Œæˆ‘ä»¬åœ¨è¡Œå¸ƒå±€çš„æ–°å¢æ—¶å€™ï¼Œå°±å¯ä»¥ç”¨åŠ¨æ€è¡¨å•æ¥å®ç°å¯¹åº”â€œåˆ—å¸ƒå±€â€çš„å®½åº¦å®šä¹‰ã€‚<br>
  - ä¹Ÿå¯ä»¥æ˜¯ç”¨ä¹‹å‰å°èŠ‚ä¸­å®ç°çš„çš„â€œæ‹–æ‹½å¸ƒå±€ç»„ä»¶â€æ¥æ”¯æŒâ€œåˆ—å¸ƒå±€â€çš„ä½ç½®æ‹–æ‹½ã€‚
    ![](https://static001.geekbang.org/resource/image/9c/8d/9cfb451bbc6624ae4fae681df565ce8d.gif?wh=599x279)
- ç¬¬äºŒæ­¥ï¼Œå¡«å……ç‰©æ–™æ¨¡å—åˆ°â€œåˆ—â€å¸ƒå±€ä¸­ã€‚

  - è¿™ä¸ªè¦ç”¨åˆ°ä¹‹å‰å°èŠ‚ä¸­å®ç°çš„ç»„ä»¶åº“ç›¸å…³çš„â€œå¯¹è¯æ¡†ç»„ä»¶â€å’Œâ€œåŠ¨æ€è¡¨å•ç»„ä»¶â€ã€‚
  - ä»Šå¤©çš„ä»£ç æ¡ˆä¾‹ä¸­ï¼Œæˆ‘å·²ç»æ”¹é€ äº†â€œå¯¹è¯æ¡†ç»„ä»¶â€ï¼Œè®©å®ƒæ”¯æŒæ¸²æŸ“åµŒå¥—å­ç»„ä»¶ã€‚æœ€ç»ˆæŠ€æœ¯é€»è¾‘æ˜¯å¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼ŒåµŒå¥—ä¸€ä¸ªåŠ¨æ€è¡¨å•æ¥è¿›è¡Œå¡«å……ç‰©æ–™ã€‚
    åœ¨ä»£ç æ¡ˆä¾‹ä¸­ï¼Œé€‰ç”¨äº†ç‰©æ–™ Vue.js ç»„ä»¶çš„ AMD æ¨¡å—ï¼Œè¿›è¡Œç»„ä»¶åŠ¨æ€åŠ è½½å’ŒåŠ¨æ€æ¸²æŸ“ã€‚ä¸»è¦æ˜¯å°è£…äº†ä¸€ä¸ªåŠ¨æ€æ¸²æŸ“ç‰©æ–™æ¨¡å—çš„ JSX ç»„ä»¶ã€‚

```
// packages/work-front/src/pages/manage/modules/page-editor.tsx
import * as Vue from 'vue';

// åŠ¨æ€åˆå§‹åŒ–AMD è¿è¡Œæ—¶ç¯å¢ƒ
async function initAMDEnv(params: {
  materialName: string;
  materialVersion: string;
}) {
  const { materialName, materialVersion } = params;
  if (!window.requirejs) {
    await loadScript('/public/cdn/pkg/requirejs/2.3.6/require.js');
  }
  const paths: Record<string, string> = {};
  // æ³¨å†ŒVueçš„AMDæ¨¡å—ï¼ŒAMDå’Œå½“å‰åº”ç”¨å…±ç”¨åŒä¸€ä¸ªVue.jsè¿è¡Œæ—¶
  window.define('vue', [], () => Vue);
  paths[materialName] = `/public/cdn/material/${materialName}/${materialVersion}/index.amd`;
  window.requirejs.config({
    paths
  });
}

// åˆ›å»ºåŠ¨æ€ç‰©æ–™é¢„è§ˆæ¨¡å— çš„ Vue.jsç»„ä»¶
function createEditModule(params: {
  materialName?: string;
  materialVersion?: string;
  materialData?: any;
  // çœç•¥å…¶å®ƒå‚æ•°...
}) {
  const { materialName, materialVersion, materialData } = params;
  // ç‰©æ–™æŒ‚è½½çš„ "å¤–å£³ç»„ä»¶"
  const EditModule: DefineComponent = defineComponent({
    setup() {
      const container = ref<HTMLElement>();

      onMounted(async () => {
        if (!(materialName && materialVersion)) {
          return;
        }
        const params = {
          name: materialName,
          version: materialVersion
        };
        // åˆå§‹åŒ– AMD è¿è¡Œæ—¶ç¯å¢ƒ
        await initAMDEnv({ materialName, materialVersion });
        // åŠ è½½ç‰©æ–™æ ·å¼
        await loadMaterialStyle(params);
        window.require( ['vue', materialName],
          (Vue: any, MaterialComponent: any) => {
            // è¿™é‡Œæ‹¿åˆ°çš„Vueæ˜¯è·Ÿå½“å‰åº”ç”¨æ˜¯åŒä¸€ä¸ªVue.jsè¿è¡Œæ—¶
            // åŠ¨æ€åŠ è½½ç‰©æ–™ç»„ä»¶çš„AMDæ¨¡å—
            const App = Vue.h(MaterialComponent, materialData || {});
            const app = Vue.createApp(App, {});
            // åœ¨"å¤–å£³ç»„ä»¶"ä¸­åŠ¨æ€æŒ‚è½½ç‰©æ–™çš„AMDæ ¼å¼Vue.jsç»„ä»¶
            app.mount(container.value);
          }
        );
      });
      // ä¸­é—´çœç•¥å…¶å®ƒä»£ç  ....

      return () => {
        return (
          <div style={{ width }} class="module-page-edit-module">
            {/* ä¸­é—´çœç•¥å…¶å®ƒä»£ç  ....   */}
            <div class="page-edit-module-content" ref={container}></div>
          </div>
        );
      };
    }
  });
  return EditModule;
}
```

- ç¬¬ä¸‰æ­¥ï¼Œç¼–è¾‘ç‰©æ–™çš„æ•°æ®æºã€‚
- å¯ä»¥ç›´æ¥å¤ç”¨ä¸ŠèŠ‚è¯¾ç¼–è¾‘ç‰©æ–™æ•°æ®æºçš„è¡¨å•ç»„ä»¶ï¼Œç»“åˆå¯¹è¯æ¡†ç»„ä»¶ä¸€èµ·ä½¿ç”¨ï¼Œå®ç°åŠ¨æ€è·å–æ•°æ®æºçš„ JSON Schemaï¼ŒåŠ¨æ€æ¸²æŸ“æ•°æ®æºè¡¨å•ï¼Œæœ€åå®ç°ç¼–è¾‘æ•°æ®æºçš„åŠŸèƒ½ã€‚
- ç¬¬å››æ­¥ï¼Œå‘å¸ƒé¡µé¢å¸ƒå±€æ•°æ®ã€‚
- è¿™è¦å¼€å‘å¯¹åº”çš„ HTTP æœåŠ¡æ¥å£ï¼Œæ”¯æŒæäº¤æ•°æ®åˆ°æœåŠ¡ç«¯ï¼Œå¹¶ä¸”å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ã€‚å…·ä½“æŠ€æœ¯å®ç°éƒ½æ˜¯é‡å¤æ€§çš„ SQL æ“ä½œå’Œ Node.js é€»è¾‘ä»£ç å®ç°ï¼Œå¯ä»¥å¤åˆ¶ä¿®æ”¹ä¹‹å‰ç‰©æ–™æ“ä½œçš„ä»£ç ï¼Œå¯¹æ•°æ®åº“ä¸­çš„é¡µé¢æ•°æ®è¿›è¡Œâ€œå¢æ”¹æŸ¥â€æ“ä½œã€‚
- ç¬¬äº”æ­¥ï¼Œæ”¯æŒç¼–è¾‘é¡µé¢å¸ƒå±€æ•°æ®ã€‚
- è¿™ä¸€æ­¥æœ€ç®€å•ï¼ŒåŸºäºä¸Šè¿°å››ä¸ªæ­¥éª¤å®ç°çš„åŠŸèƒ½ï¼Œæ·»åŠ é»˜è®¤æ•°æ®å¡«å……å’Œæäº¤æ•°æ®æ¥å£çš„ä¿®æ”¹ã€‚

#### å°ç»“

1. é¡µé¢æ­å»ºè¿‡ç¨‹ä¸­ï¼Œå¯¹å¸ƒå±€å’Œç‰©æ–™çš„ç¼–è¾‘ç­‰æ“ä½œï¼Œä¼šé‡åˆ°å¤§é‡è¡¨å•åœºæ™¯ï¼ŒæŠ€æœ¯æ–¹æ¡ˆé€‰æ‹©åŠ¨æ€è¡¨å•ï¼Œèƒ½å¤§å¤§æé«˜å¼€å‘æ•ˆç‡ã€‚
2. æ‹–æ‹½æŠ€æœ¯ä¸ä¸€å®šèƒ½é€‚ç”¨æ‰€æœ‰é¡µé¢æ­å»ºåŠŸèƒ½ï¼Œè¦è€ƒè™‘åˆ°é¡µé¢è¶…é•¿å‡ºç°æµè§ˆå™¨æ»šåŠ¨åœºæ™¯ï¼Œæ‹–æ‹½æ“ä½œå°±ä½“éªŒä¸å‹å¥½ã€‚
3. é¡µé¢å¸ƒå±€æ“ä½œï¼Œæ¶‰åŠå¤§é‡çš„æ•°æ®è®¾è®¡å’Œæ•°æ®æ“ä½œï¼Œæ‰€ä»¥ç±»ä¼¼æ­å»ºé¡¹ç›®ï¼Œè¦å°½é‡ä½¿ç”¨ TypeScript è¿›è¡Œå¼€å‘ï¼Œé™åˆ¶æ•°æ®ç±»å‹æ ¼å¼ã€‚

> æ­¤æ–‡ç« ä¸º 3 æœˆ Day26 å­¦ä¹ ç¬”è®°ï¼Œå†…å®¹æ¥æºäºæå®¢æ—¶é—´ã€ŠVue 3 ä¼ä¸šçº§é¡¹ç›®å®æˆ˜è¯¾ã€‹ï¼Œå­¦ä¹ ä½¿æˆ‘å¿«ä¹ï¼Œæ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹ ğŸ’ªğŸ’ª
